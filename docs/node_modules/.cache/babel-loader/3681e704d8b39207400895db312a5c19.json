{"ast":null,"code":"function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n/**\n * Copyright IBM Corp. 2016, 2018\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\nimport Flatpickr from 'flatpickr';\nimport settings from '../../globals/js/settings';\nimport mixin from '../../globals/js/misc/mixin';\nimport createComponent from '../../globals/js/mixins/create-component';\nimport initComponentBySearch from '../../globals/js/mixins/init-component-by-search';\nimport handles from '../../globals/js/mixins/handles';\nimport on from '../../globals/js/misc/on';\n/* eslint no-underscore-dangle: [2, { \"allow\": [\"_input\", \"_updateClassNames\", \"_updateInputFields\"], \"allowAfterThis\": true }] */\n// `this.options` create-component mix-in creates prototype chain\n// so that `options` given in constructor argument wins over the one defined in static `options` property\n// 'Flatpickr' wants flat structure of object instead\n\nfunction flattenOptions(options) {\n  var o = {}; // eslint-disable-next-line guard-for-in, no-restricted-syntax\n\n  for (var key in options) {\n    o[key] = options[key];\n  }\n\n  return o;\n} // Weekdays shorthand for english locale\n\n\nFlatpickr.l10ns.en.weekdays.shorthand.forEach(function (day, index) {\n  var currentDay = Flatpickr.l10ns.en.weekdays.shorthand;\n\n  if (currentDay[index] === 'Thu' || currentDay[index] === 'Th') {\n    currentDay[index] = 'Th';\n  } else {\n    currentDay[index] = currentDay[index].charAt(0);\n  }\n});\n\nvar toArray = function toArray(arrayLike) {\n  return Array.prototype.slice.call(arrayLike);\n};\n\nvar DatePicker = /*#__PURE__*/function (_mixin) {\n  _inherits(DatePicker, _mixin);\n  /**\n   * DatePicker.\n   * @extends CreateComponent\n   * @extends InitComponentBySearch\n   * @extends Handles\n   * @param {HTMLElement} element The element working as an date picker.\n   */\n\n\n  function DatePicker(element, options) {\n    var _this;\n\n    _classCallCheck(this, DatePicker);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DatePicker).call(this, element, options));\n\n    _this._handleFocus = function () {\n      if (_this.calendar) {\n        _this.calendar.open();\n      }\n    };\n\n    _this._handleBlur = function (event) {\n      if (_this.calendar) {\n        var focusTo = event.relatedTarget;\n\n        if (!focusTo || !_this.element.contains(focusTo) && (!_this.calendar.calendarContainer || !_this.calendar.calendarContainer.contains(focusTo))) {\n          _this.calendar.close();\n        }\n      }\n    };\n\n    _this._initDatePicker = function (type) {\n      if (type === 'range') {\n        // Given FlatPickr assumes one `<input>` even in range mode,\n        // use a hidden `<input>` for such purpose, separate from our from/to `<input>`s\n        var doc = _this.element.ownerDocument;\n        var rangeInput = doc.createElement('input');\n        rangeInput.className = _this.options.classVisuallyHidden;\n        rangeInput.setAttribute('aria-hidden', 'true');\n\n        _this.element.appendChild(rangeInput);\n\n        _this._rangeInput = rangeInput; // An attempt to open the date picker dropdown when this component gets focus,\n        // and close the date picker dropdown when this component loses focus\n\n        var w = doc.defaultView;\n        var hasFocusin = ('onfocusin' in w);\n        var hasFocusout = ('onfocusout' in w);\n        var focusinEventName = hasFocusin ? 'focusin' : 'focus';\n        var focusoutEventName = hasFocusout ? 'focusout' : 'blur';\n\n        _this.manage(on(_this.element, focusinEventName, _this._handleFocus, !hasFocusin));\n\n        _this.manage(on(_this.element, focusoutEventName, _this._handleBlur, !hasFocusout));\n\n        _this.manage(on(_this.element.querySelector(_this.options.selectorDatePickerIcon), focusoutEventName, _this._handleBlur, !hasFocusout));\n      }\n\n      var self = _assertThisInitialized(_this);\n\n      var date = type === 'range' ? _this._rangeInput : _this.element.querySelector(_this.options.selectorDatePickerInput);\n      var _this$options = _this.options,\n          _onClose = _this$options.onClose,\n          _onChange = _this$options.onChange,\n          _onMonthChange = _this$options.onMonthChange,\n          _onYearChange = _this$options.onYearChange,\n          _onOpen = _this$options.onOpen,\n          _onValueUpdate = _this$options.onValueUpdate;\n      var calendar = new Flatpickr(date, Object.assign(flattenOptions(_this.options), {\n        allowInput: true,\n        mode: type,\n        positionElement: type === 'range' && _this.element.querySelector(_this.options.selectorDatePickerInputFrom),\n        onClose: function onClose(selectedDates) {\n          // An attempt to disable Flatpickr's focus tracking system,\n          // which has adverse effect with our old set up with two `<input>`s or our latest setup with a hidden `<input>`\n          if (self.shouldForceOpen) {\n            if (self.calendar.calendarContainer) {\n              self.calendar.calendarContainer.classList.add('open');\n            }\n\n            self.calendar.isOpen = true;\n          }\n\n          for (var _len = arguments.length, remainder = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n            remainder[_key - 1] = arguments[_key];\n          }\n\n          if (!_onClose || _onClose.call.apply(_onClose, [this, selectedDates].concat(remainder)) !== false) {\n            self._updateClassNames(calendar);\n\n            self._updateInputFields(selectedDates, type);\n          }\n        },\n        onChange: function onChange() {\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n\n          if (!_onChange || _onChange.call.apply(_onChange, [this].concat(args)) !== false) {\n            self._updateClassNames(calendar);\n\n            if (type === 'range') {\n              if (calendar.selectedDates.length === 1 && calendar.isOpen) {\n                self.element.querySelector(self.options.selectorDatePickerInputTo).classList.add(self.options.classFocused);\n              } else {\n                self.element.querySelector(self.options.selectorDatePickerInputTo).classList.remove(self.options.classFocused);\n              }\n            }\n          }\n        },\n        onMonthChange: function onMonthChange() {\n          for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n            args[_key3] = arguments[_key3];\n          }\n\n          if (!_onMonthChange || _onMonthChange.call.apply(_onMonthChange, [this].concat(args)) !== false) {\n            self._updateClassNames(calendar);\n          }\n        },\n        onYearChange: function onYearChange() {\n          for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n            args[_key4] = arguments[_key4];\n          }\n\n          if (!_onYearChange || _onYearChange.call.apply(_onYearChange, [this].concat(args)) !== false) {\n            self._updateClassNames(calendar);\n          }\n        },\n        onOpen: function onOpen() {\n          // An attempt to disable Flatpickr's focus tracking system,\n          // which has adverse effect with our old set up with two `<input>`s or our latest setup with a hidden `<input>`\n          self.shouldForceOpen = true;\n          setTimeout(function () {\n            self.shouldForceOpen = false;\n          }, 0);\n\n          for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n            args[_key5] = arguments[_key5];\n          }\n\n          if (!_onOpen || _onOpen.call.apply(_onOpen, [this].concat(args)) !== false) {\n            self._updateClassNames(calendar);\n          }\n        },\n        onValueUpdate: function onValueUpdate() {\n          for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n            args[_key6] = arguments[_key6];\n          }\n\n          if ((!_onValueUpdate || _onValueUpdate.call.apply(_onValueUpdate, [this].concat(args)) !== false) && type === 'range') {\n            self._updateInputFields(self.calendar.selectedDates, type);\n          }\n        },\n        nextArrow: _this._rightArrowHTML(),\n        prevArrow: _this._leftArrowHTML()\n      }));\n\n      if (type === 'range') {\n        _this._addInputLogic(_this.element.querySelector(_this.options.selectorDatePickerInputFrom), 0);\n\n        _this._addInputLogic(_this.element.querySelector(_this.options.selectorDatePickerInputTo), 1);\n      }\n\n      _this.manage(on(_this.element.querySelector(_this.options.selectorDatePickerIcon), 'click', function () {\n        calendar.open();\n      }));\n\n      _this._updateClassNames(calendar);\n\n      if (type !== 'range') {\n        _this._addInputLogic(date);\n      }\n\n      return calendar;\n    };\n\n    _this._addInputLogic = function (input, index) {\n      if (!isNaN(index) && (index < 0 || index > 1)) {\n        throw new RangeError(\"The index of <input> (\".concat(index, \") is out of range.\"));\n      }\n\n      var inputField = input;\n\n      _this.manage(on(inputField, 'change', function (evt) {\n        if (evt.isTrusted || evt.detail && evt.detail.isNotFromFlatpickr) {\n          var inputDate = _this.calendar.parseDate(inputField.value);\n\n          if (inputDate && !isNaN(inputDate.valueOf())) {\n            if (isNaN(index)) {\n              _this.calendar.setDate(inputDate);\n            } else {\n              var selectedDates = _this.calendar.selectedDates;\n              selectedDates[index] = inputDate;\n\n              _this.calendar.setDate(selectedDates);\n            }\n          }\n        }\n\n        _this._updateClassNames(_this.calendar);\n      })); // An attempt to temporarily set the `<input>` being edited as the one FlatPicker manages,\n      // as FlatPicker attempts to take over `keydown` event handler on `document` to run on the date picker dropdown.\n\n\n      _this.manage(on(inputField, 'keydown', function (evt) {\n        var origInput = _this.calendar._input;\n        _this.calendar._input = evt.target;\n        setTimeout(function () {\n          _this.calendar._input = origInput;\n        });\n      }));\n    };\n\n    _this._updateClassNames = function (_ref) {\n      var calendarContainer = _ref.calendarContainer,\n          selectedDates = _ref.selectedDates;\n\n      if (calendarContainer) {\n        calendarContainer.classList.add(_this.options.classCalendarContainer);\n        calendarContainer.querySelector('.flatpickr-month').classList.add(_this.options.classMonth);\n        calendarContainer.querySelector('.flatpickr-weekdays').classList.add(_this.options.classWeekdays);\n        calendarContainer.querySelector('.flatpickr-days').classList.add(_this.options.classDays);\n        toArray(calendarContainer.querySelectorAll('.flatpickr-weekday')).forEach(function (item) {\n          var currentItem = item;\n          currentItem.innerHTML = currentItem.innerHTML.replace(/\\s+/g, '');\n          currentItem.classList.add(_this.options.classWeekday);\n        });\n        toArray(calendarContainer.querySelectorAll('.flatpickr-day')).forEach(function (item) {\n          item.classList.add(_this.options.classDay);\n\n          if (item.classList.contains('today') && selectedDates.length > 0) {\n            item.classList.add('no-border');\n          } else if (item.classList.contains('today') && selectedDates.length === 0) {\n            item.classList.remove('no-border');\n          }\n        });\n      }\n    };\n\n    _this._updateInputFields = function (selectedDates, type) {\n      if (type === 'range') {\n        if (selectedDates.length === 2) {\n          _this.element.querySelector(_this.options.selectorDatePickerInputFrom).value = _this._formatDate(selectedDates[0]);\n          _this.element.querySelector(_this.options.selectorDatePickerInputTo).value = _this._formatDate(selectedDates[1]);\n        } else if (selectedDates.length === 1) {\n          _this.element.querySelector(_this.options.selectorDatePickerInputFrom).value = _this._formatDate(selectedDates[0]);\n        }\n      } else if (selectedDates.length === 1) {\n        _this.element.querySelector(_this.options.selectorDatePickerInput).value = _this._formatDate(selectedDates[0]);\n      }\n\n      _this._updateClassNames(_this.calendar);\n    };\n\n    _this._formatDate = function (date) {\n      return _this.calendar.formatDate(date, _this.calendar.config.dateFormat);\n    };\n\n    var _type = _this.element.getAttribute(_this.options.attribType);\n\n    _this.calendar = _this._initDatePicker(_type);\n\n    if (_this.calendar.calendarContainer) {\n      _this.manage(on(_this.element, 'keydown', function (e) {\n        if (e.which === 40) {\n          _this.calendar.calendarContainer.focus();\n        }\n      }));\n\n      _this.manage(on(_this.calendar.calendarContainer, 'keydown', function (e) {\n        if (e.which === 9 && _type === 'range') {\n          _this._updateClassNames(_this.calendar);\n\n          _this.element.querySelector(_this.options.selectorDatePickerInputFrom).focus();\n        }\n      }));\n    }\n\n    return _this;\n  }\n  /**\n   * Opens the date picker dropdown when this component gets focus.\n   * Used only for range mode for now.\n   * @private\n   */\n\n\n  _createClass(DatePicker, [{\n    key: \"_rightArrowHTML\",\n    value: function _rightArrowHTML() {\n      return \"\\n      <svg\\n        focusable=\\\"false\\\"\\n        preserveAspectRatio=\\\"xMidYMid meet\\\"\\n        style=\\\"will-change: transform;\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        width=\\\"16\\\"\\n        height=\\\"16\\\"\\n        viewBox=\\\"0 0 16 16\\\"\\n        aria-hidden=\\\"true\\\">\\n          <path d=\\\"M11 8l-5 5-.7-.7L9.6 8 5.3 3.7 6 3z\\\"></path>\\n      </svg>\";\n    }\n  }, {\n    key: \"_leftArrowHTML\",\n    value: function _leftArrowHTML() {\n      return \"\\n      <svg\\n        focusable=\\\"false\\\"\\n        preserveAspectRatio=\\\"xMidYMid meet\\\"\\n        style=\\\"will-change: transform;\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        width=\\\"16\\\"\\n        height=\\\"16\\\"\\n        viewBox=\\\"0 0 16 16\\\"\\n        aria-hidden=\\\"true\\\"\\n      >\\n        <path d=\\\"M5 8l5-5 .7.7L6.4 8l4.3 4.3-.7.7z\\\"></path>\\n      </svg>\";\n    }\n  }, {\n    key: \"release\",\n    value: function release() {\n      if (this._rangeInput && this._rangeInput.parentNode) {\n        this._rangeInput.parentNode.removeChild(this._rangeInput);\n      }\n\n      if (this.calendar) {\n        try {\n          this.calendar.destroy();\n        } catch (err) {} // eslint-disable-line no-empty\n\n\n        this.calendar = null;\n      }\n\n      return _get(_getPrototypeOf(DatePicker.prototype), \"release\", this).call(this);\n    }\n    /**\n     * The component options.\n     * If `options` is specified in the constructor,\n     * {@linkcode DatePicker.create .create()}, or {@linkcode DatePicker.init .init()},\n     * properties in this object are overriden for the instance being create and how {@linkcode DatePicker.init .init()} works.\n     * @property {string} selectorInit The CSS selector to find date picker UIs.\n     */\n\n  }], [{\n    key: \"options\",\n    get: function get() {\n      var prefix = settings.prefix;\n      return {\n        selectorInit: '[data-date-picker]',\n        selectorDatePickerInput: '[data-date-picker-input]',\n        selectorDatePickerInputFrom: '[data-date-picker-input-from]',\n        selectorDatePickerInputTo: '[data-date-picker-input-to]',\n        selectorDatePickerIcon: '[data-date-picker-icon]',\n        classCalendarContainer: \"\".concat(prefix, \"--date-picker__calendar\"),\n        classMonth: \"\".concat(prefix, \"--date-picker__month\"),\n        classWeekdays: \"\".concat(prefix, \"--date-picker__weekdays\"),\n        classDays: \"\".concat(prefix, \"--date-picker__days\"),\n        classWeekday: \"\".concat(prefix, \"--date-picker__weekday\"),\n        classDay: \"\".concat(prefix, \"--date-picker__day\"),\n        classFocused: \"\".concat(prefix, \"--focused\"),\n        classVisuallyHidden: \"\".concat(prefix, \"--visually-hidden\"),\n        attribType: 'data-date-picker-type',\n        dateFormat: 'm/d/Y'\n      };\n    }\n    /**\n     * The map associating DOM element and date picker UI instance.\n     * @type {WeakMap}\n     */\n\n  }]);\n\n  DatePicker.components = new WeakMap();\n  return DatePicker;\n}(mixin(createComponent, initComponentBySearch, handles));\n\nexport default DatePicker;","map":{"version":3,"sources":["/Users/khadijaal-selini/call-for-code/policy-truth-frontend/node_modules/carbon-components/es/components/date-picker/date-picker.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","call","_assertThisInitialized","ReferenceError","_get","property","receiver","Reflect","get","base","_superPropBase","desc","getOwnPropertyDescriptor","value","object","hasOwnProperty","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_inherits","subClass","superClass","create","_setPrototypeOf","p","Flatpickr","settings","mixin","createComponent","initComponentBySearch","handles","on","flattenOptions","options","l10ns","en","weekdays","shorthand","forEach","day","index","currentDay","charAt","toArray","arrayLike","Array","slice","DatePicker","_mixin","element","_this","_handleFocus","calendar","open","_handleBlur","event","focusTo","relatedTarget","contains","calendarContainer","close","_initDatePicker","type","doc","ownerDocument","rangeInput","createElement","className","classVisuallyHidden","setAttribute","appendChild","_rangeInput","w","defaultView","hasFocusin","hasFocusout","focusinEventName","focusoutEventName","manage","querySelector","selectorDatePickerIcon","date","selectorDatePickerInput","_this$options","_onClose","onClose","_onChange","onChange","_onMonthChange","onMonthChange","_onYearChange","onYearChange","_onOpen","onOpen","_onValueUpdate","onValueUpdate","assign","allowInput","mode","positionElement","selectorDatePickerInputFrom","selectedDates","shouldForceOpen","classList","add","isOpen","_len","arguments","remainder","_key","apply","concat","_updateClassNames","_updateInputFields","_len2","args","_key2","selectorDatePickerInputTo","classFocused","remove","_len3","_key3","_len4","_key4","setTimeout","_len5","_key5","_len6","_key6","nextArrow","_rightArrowHTML","prevArrow","_leftArrowHTML","_addInputLogic","input","isNaN","RangeError","inputField","evt","isTrusted","detail","isNotFromFlatpickr","inputDate","parseDate","valueOf","setDate","origInput","_input","_ref","classCalendarContainer","classMonth","classWeekdays","classDays","querySelectorAll","item","currentItem","innerHTML","replace","classWeekday","classDay","_formatDate","formatDate","config","dateFormat","_type","getAttribute","attribType","e","which","focus","release","parentNode","removeChild","destroy","err","prefix","selectorInit","components","WeakMap"],"mappings":"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","sourcesContent":["function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n/**\n * Copyright IBM Corp. 2016, 2018\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\nimport Flatpickr from 'flatpickr';\nimport settings from '../../globals/js/settings';\nimport mixin from '../../globals/js/misc/mixin';\nimport createComponent from '../../globals/js/mixins/create-component';\nimport initComponentBySearch from '../../globals/js/mixins/init-component-by-search';\nimport handles from '../../globals/js/mixins/handles';\nimport on from '../../globals/js/misc/on';\n/* eslint no-underscore-dangle: [2, { \"allow\": [\"_input\", \"_updateClassNames\", \"_updateInputFields\"], \"allowAfterThis\": true }] */\n// `this.options` create-component mix-in creates prototype chain\n// so that `options` given in constructor argument wins over the one defined in static `options` property\n// 'Flatpickr' wants flat structure of object instead\n\nfunction flattenOptions(options) {\n  var o = {}; // eslint-disable-next-line guard-for-in, no-restricted-syntax\n\n  for (var key in options) {\n    o[key] = options[key];\n  }\n\n  return o;\n} // Weekdays shorthand for english locale\n\n\nFlatpickr.l10ns.en.weekdays.shorthand.forEach(function (day, index) {\n  var currentDay = Flatpickr.l10ns.en.weekdays.shorthand;\n\n  if (currentDay[index] === 'Thu' || currentDay[index] === 'Th') {\n    currentDay[index] = 'Th';\n  } else {\n    currentDay[index] = currentDay[index].charAt(0);\n  }\n});\n\nvar toArray = function toArray(arrayLike) {\n  return Array.prototype.slice.call(arrayLike);\n};\n\nvar DatePicker =\n/*#__PURE__*/\nfunction (_mixin) {\n  _inherits(DatePicker, _mixin);\n  /**\n   * DatePicker.\n   * @extends CreateComponent\n   * @extends InitComponentBySearch\n   * @extends Handles\n   * @param {HTMLElement} element The element working as an date picker.\n   */\n\n\n  function DatePicker(element, options) {\n    var _this;\n\n    _classCallCheck(this, DatePicker);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DatePicker).call(this, element, options));\n\n    _this._handleFocus = function () {\n      if (_this.calendar) {\n        _this.calendar.open();\n      }\n    };\n\n    _this._handleBlur = function (event) {\n      if (_this.calendar) {\n        var focusTo = event.relatedTarget;\n\n        if (!focusTo || !_this.element.contains(focusTo) && (!_this.calendar.calendarContainer || !_this.calendar.calendarContainer.contains(focusTo))) {\n          _this.calendar.close();\n        }\n      }\n    };\n\n    _this._initDatePicker = function (type) {\n      if (type === 'range') {\n        // Given FlatPickr assumes one `<input>` even in range mode,\n        // use a hidden `<input>` for such purpose, separate from our from/to `<input>`s\n        var doc = _this.element.ownerDocument;\n        var rangeInput = doc.createElement('input');\n        rangeInput.className = _this.options.classVisuallyHidden;\n        rangeInput.setAttribute('aria-hidden', 'true');\n\n        _this.element.appendChild(rangeInput);\n\n        _this._rangeInput = rangeInput; // An attempt to open the date picker dropdown when this component gets focus,\n        // and close the date picker dropdown when this component loses focus\n\n        var w = doc.defaultView;\n        var hasFocusin = 'onfocusin' in w;\n        var hasFocusout = 'onfocusout' in w;\n        var focusinEventName = hasFocusin ? 'focusin' : 'focus';\n        var focusoutEventName = hasFocusout ? 'focusout' : 'blur';\n\n        _this.manage(on(_this.element, focusinEventName, _this._handleFocus, !hasFocusin));\n\n        _this.manage(on(_this.element, focusoutEventName, _this._handleBlur, !hasFocusout));\n\n        _this.manage(on(_this.element.querySelector(_this.options.selectorDatePickerIcon), focusoutEventName, _this._handleBlur, !hasFocusout));\n      }\n\n      var self = _assertThisInitialized(_this);\n\n      var date = type === 'range' ? _this._rangeInput : _this.element.querySelector(_this.options.selectorDatePickerInput);\n      var _this$options = _this.options,\n          _onClose = _this$options.onClose,\n          _onChange = _this$options.onChange,\n          _onMonthChange = _this$options.onMonthChange,\n          _onYearChange = _this$options.onYearChange,\n          _onOpen = _this$options.onOpen,\n          _onValueUpdate = _this$options.onValueUpdate;\n      var calendar = new Flatpickr(date, Object.assign(flattenOptions(_this.options), {\n        allowInput: true,\n        mode: type,\n        positionElement: type === 'range' && _this.element.querySelector(_this.options.selectorDatePickerInputFrom),\n        onClose: function onClose(selectedDates) {\n          // An attempt to disable Flatpickr's focus tracking system,\n          // which has adverse effect with our old set up with two `<input>`s or our latest setup with a hidden `<input>`\n          if (self.shouldForceOpen) {\n            if (self.calendar.calendarContainer) {\n              self.calendar.calendarContainer.classList.add('open');\n            }\n\n            self.calendar.isOpen = true;\n          }\n\n          for (var _len = arguments.length, remainder = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n            remainder[_key - 1] = arguments[_key];\n          }\n\n          if (!_onClose || _onClose.call.apply(_onClose, [this, selectedDates].concat(remainder)) !== false) {\n            self._updateClassNames(calendar);\n\n            self._updateInputFields(selectedDates, type);\n          }\n        },\n        onChange: function onChange() {\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n\n          if (!_onChange || _onChange.call.apply(_onChange, [this].concat(args)) !== false) {\n            self._updateClassNames(calendar);\n\n            if (type === 'range') {\n              if (calendar.selectedDates.length === 1 && calendar.isOpen) {\n                self.element.querySelector(self.options.selectorDatePickerInputTo).classList.add(self.options.classFocused);\n              } else {\n                self.element.querySelector(self.options.selectorDatePickerInputTo).classList.remove(self.options.classFocused);\n              }\n            }\n          }\n        },\n        onMonthChange: function onMonthChange() {\n          for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n            args[_key3] = arguments[_key3];\n          }\n\n          if (!_onMonthChange || _onMonthChange.call.apply(_onMonthChange, [this].concat(args)) !== false) {\n            self._updateClassNames(calendar);\n          }\n        },\n        onYearChange: function onYearChange() {\n          for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n            args[_key4] = arguments[_key4];\n          }\n\n          if (!_onYearChange || _onYearChange.call.apply(_onYearChange, [this].concat(args)) !== false) {\n            self._updateClassNames(calendar);\n          }\n        },\n        onOpen: function onOpen() {\n          // An attempt to disable Flatpickr's focus tracking system,\n          // which has adverse effect with our old set up with two `<input>`s or our latest setup with a hidden `<input>`\n          self.shouldForceOpen = true;\n          setTimeout(function () {\n            self.shouldForceOpen = false;\n          }, 0);\n\n          for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n            args[_key5] = arguments[_key5];\n          }\n\n          if (!_onOpen || _onOpen.call.apply(_onOpen, [this].concat(args)) !== false) {\n            self._updateClassNames(calendar);\n          }\n        },\n        onValueUpdate: function onValueUpdate() {\n          for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n            args[_key6] = arguments[_key6];\n          }\n\n          if ((!_onValueUpdate || _onValueUpdate.call.apply(_onValueUpdate, [this].concat(args)) !== false) && type === 'range') {\n            self._updateInputFields(self.calendar.selectedDates, type);\n          }\n        },\n        nextArrow: _this._rightArrowHTML(),\n        prevArrow: _this._leftArrowHTML()\n      }));\n\n      if (type === 'range') {\n        _this._addInputLogic(_this.element.querySelector(_this.options.selectorDatePickerInputFrom), 0);\n\n        _this._addInputLogic(_this.element.querySelector(_this.options.selectorDatePickerInputTo), 1);\n      }\n\n      _this.manage(on(_this.element.querySelector(_this.options.selectorDatePickerIcon), 'click', function () {\n        calendar.open();\n      }));\n\n      _this._updateClassNames(calendar);\n\n      if (type !== 'range') {\n        _this._addInputLogic(date);\n      }\n\n      return calendar;\n    };\n\n    _this._addInputLogic = function (input, index) {\n      if (!isNaN(index) && (index < 0 || index > 1)) {\n        throw new RangeError(\"The index of <input> (\".concat(index, \") is out of range.\"));\n      }\n\n      var inputField = input;\n\n      _this.manage(on(inputField, 'change', function (evt) {\n        if (evt.isTrusted || evt.detail && evt.detail.isNotFromFlatpickr) {\n          var inputDate = _this.calendar.parseDate(inputField.value);\n\n          if (inputDate && !isNaN(inputDate.valueOf())) {\n            if (isNaN(index)) {\n              _this.calendar.setDate(inputDate);\n            } else {\n              var selectedDates = _this.calendar.selectedDates;\n              selectedDates[index] = inputDate;\n\n              _this.calendar.setDate(selectedDates);\n            }\n          }\n        }\n\n        _this._updateClassNames(_this.calendar);\n      })); // An attempt to temporarily set the `<input>` being edited as the one FlatPicker manages,\n      // as FlatPicker attempts to take over `keydown` event handler on `document` to run on the date picker dropdown.\n\n\n      _this.manage(on(inputField, 'keydown', function (evt) {\n        var origInput = _this.calendar._input;\n        _this.calendar._input = evt.target;\n        setTimeout(function () {\n          _this.calendar._input = origInput;\n        });\n      }));\n    };\n\n    _this._updateClassNames = function (_ref) {\n      var calendarContainer = _ref.calendarContainer,\n          selectedDates = _ref.selectedDates;\n\n      if (calendarContainer) {\n        calendarContainer.classList.add(_this.options.classCalendarContainer);\n        calendarContainer.querySelector('.flatpickr-month').classList.add(_this.options.classMonth);\n        calendarContainer.querySelector('.flatpickr-weekdays').classList.add(_this.options.classWeekdays);\n        calendarContainer.querySelector('.flatpickr-days').classList.add(_this.options.classDays);\n        toArray(calendarContainer.querySelectorAll('.flatpickr-weekday')).forEach(function (item) {\n          var currentItem = item;\n          currentItem.innerHTML = currentItem.innerHTML.replace(/\\s+/g, '');\n          currentItem.classList.add(_this.options.classWeekday);\n        });\n        toArray(calendarContainer.querySelectorAll('.flatpickr-day')).forEach(function (item) {\n          item.classList.add(_this.options.classDay);\n\n          if (item.classList.contains('today') && selectedDates.length > 0) {\n            item.classList.add('no-border');\n          } else if (item.classList.contains('today') && selectedDates.length === 0) {\n            item.classList.remove('no-border');\n          }\n        });\n      }\n    };\n\n    _this._updateInputFields = function (selectedDates, type) {\n      if (type === 'range') {\n        if (selectedDates.length === 2) {\n          _this.element.querySelector(_this.options.selectorDatePickerInputFrom).value = _this._formatDate(selectedDates[0]);\n          _this.element.querySelector(_this.options.selectorDatePickerInputTo).value = _this._formatDate(selectedDates[1]);\n        } else if (selectedDates.length === 1) {\n          _this.element.querySelector(_this.options.selectorDatePickerInputFrom).value = _this._formatDate(selectedDates[0]);\n        }\n      } else if (selectedDates.length === 1) {\n        _this.element.querySelector(_this.options.selectorDatePickerInput).value = _this._formatDate(selectedDates[0]);\n      }\n\n      _this._updateClassNames(_this.calendar);\n    };\n\n    _this._formatDate = function (date) {\n      return _this.calendar.formatDate(date, _this.calendar.config.dateFormat);\n    };\n\n    var _type = _this.element.getAttribute(_this.options.attribType);\n\n    _this.calendar = _this._initDatePicker(_type);\n\n    if (_this.calendar.calendarContainer) {\n      _this.manage(on(_this.element, 'keydown', function (e) {\n        if (e.which === 40) {\n          _this.calendar.calendarContainer.focus();\n        }\n      }));\n\n      _this.manage(on(_this.calendar.calendarContainer, 'keydown', function (e) {\n        if (e.which === 9 && _type === 'range') {\n          _this._updateClassNames(_this.calendar);\n\n          _this.element.querySelector(_this.options.selectorDatePickerInputFrom).focus();\n        }\n      }));\n    }\n\n    return _this;\n  }\n  /**\n   * Opens the date picker dropdown when this component gets focus.\n   * Used only for range mode for now.\n   * @private\n   */\n\n\n  _createClass(DatePicker, [{\n    key: \"_rightArrowHTML\",\n    value: function _rightArrowHTML() {\n      return \"\\n      <svg\\n        focusable=\\\"false\\\"\\n        preserveAspectRatio=\\\"xMidYMid meet\\\"\\n        style=\\\"will-change: transform;\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        width=\\\"16\\\"\\n        height=\\\"16\\\"\\n        viewBox=\\\"0 0 16 16\\\"\\n        aria-hidden=\\\"true\\\">\\n          <path d=\\\"M11 8l-5 5-.7-.7L9.6 8 5.3 3.7 6 3z\\\"></path>\\n      </svg>\";\n    }\n  }, {\n    key: \"_leftArrowHTML\",\n    value: function _leftArrowHTML() {\n      return \"\\n      <svg\\n        focusable=\\\"false\\\"\\n        preserveAspectRatio=\\\"xMidYMid meet\\\"\\n        style=\\\"will-change: transform;\\\"\\n        xmlns=\\\"http://www.w3.org/2000/svg\\\"\\n        width=\\\"16\\\"\\n        height=\\\"16\\\"\\n        viewBox=\\\"0 0 16 16\\\"\\n        aria-hidden=\\\"true\\\"\\n      >\\n        <path d=\\\"M5 8l5-5 .7.7L6.4 8l4.3 4.3-.7.7z\\\"></path>\\n      </svg>\";\n    }\n  }, {\n    key: \"release\",\n    value: function release() {\n      if (this._rangeInput && this._rangeInput.parentNode) {\n        this._rangeInput.parentNode.removeChild(this._rangeInput);\n      }\n\n      if (this.calendar) {\n        try {\n          this.calendar.destroy();\n        } catch (err) {} // eslint-disable-line no-empty\n\n\n        this.calendar = null;\n      }\n\n      return _get(_getPrototypeOf(DatePicker.prototype), \"release\", this).call(this);\n    }\n    /**\n     * The component options.\n     * If `options` is specified in the constructor,\n     * {@linkcode DatePicker.create .create()}, or {@linkcode DatePicker.init .init()},\n     * properties in this object are overriden for the instance being create and how {@linkcode DatePicker.init .init()} works.\n     * @property {string} selectorInit The CSS selector to find date picker UIs.\n     */\n\n  }], [{\n    key: \"options\",\n    get: function get() {\n      var prefix = settings.prefix;\n      return {\n        selectorInit: '[data-date-picker]',\n        selectorDatePickerInput: '[data-date-picker-input]',\n        selectorDatePickerInputFrom: '[data-date-picker-input-from]',\n        selectorDatePickerInputTo: '[data-date-picker-input-to]',\n        selectorDatePickerIcon: '[data-date-picker-icon]',\n        classCalendarContainer: \"\".concat(prefix, \"--date-picker__calendar\"),\n        classMonth: \"\".concat(prefix, \"--date-picker__month\"),\n        classWeekdays: \"\".concat(prefix, \"--date-picker__weekdays\"),\n        classDays: \"\".concat(prefix, \"--date-picker__days\"),\n        classWeekday: \"\".concat(prefix, \"--date-picker__weekday\"),\n        classDay: \"\".concat(prefix, \"--date-picker__day\"),\n        classFocused: \"\".concat(prefix, \"--focused\"),\n        classVisuallyHidden: \"\".concat(prefix, \"--visually-hidden\"),\n        attribType: 'data-date-picker-type',\n        dateFormat: 'm/d/Y'\n      };\n    }\n    /**\n     * The map associating DOM element and date picker UI instance.\n     * @type {WeakMap}\n     */\n\n  }]);\n\n  DatePicker.components = new WeakMap();\n  return DatePicker;\n}(mixin(createComponent, initComponentBySearch, handles));\n\nexport default DatePicker;"]},"metadata":{},"sourceType":"module"}